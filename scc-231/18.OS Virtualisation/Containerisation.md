![[Pasted image 20251231172719.png]]### . Проблема Виртуализации (Верхняя часть диаграммы)

На слайде сказано, что решения вроде VMware имеют недостаток — они **ресурсоемкие ("resource-intensive")**.

- **Почему?** Посмотрите на схему "Virtualisation" справа сверху. В каждом "квадратике" (VM1, VMn) находится **Guest OS** (Гостевая ОС).
    
- Это значит, что если вы хотите запустить 5 маленьких программ изолированно, вам придется запустить 5 полноценных операционных систем. Это огромная нагрузка на память и процессор (overhead), так как каждая ОС дублирует функции другой.
    

### 2. Решение — Контейнеры (Нижняя часть диаграммы)

Контейнеры — это **легковесная ("lightweight")** альтернатива. Они дают ту же изоляцию, но без лишней нагрузки.

- **Главное отличие на схеме:** Посмотрите на схему "Linux Container" справа снизу. Внутри квадратиков с приложениями (Process 1, Process 2) **НЕТ Guest OS**.
    
- Вместо этого все контейнеры используют **одну общую Host OS** (ОС хоста) через прослойку Docker.
    
- Приложения думают, что они одни

![[Pasted image 20251231173010.png]]![[Pasted image 20251231173030.png]]![[Pasted image 20251231173200.png]]![[Pasted image 20251231173215.png]]![[Pasted image 20251231173320.png]]![[Pasted image 20251231173407.png]]![[Pasted image 20251231173443.png]]### 1. Основные технологии Linux (Фундамент)

Эти три технологии объединяются, чтобы создать то, что мы называем "контейнером".

- **Linux Cgroups (Control Groups)**
    
    - **Что делает:** **Ограничивает и считает.**
        
    - Это "бухгалтер" и "охранник". Он следит за тем, чтобы процесс не съел всю память (RAM) или процессор (CPU). Если процесс превышает лимит, Cgroups его тормозит или убивает.
        
    - _Главная суть:_ Контроль ресурсов.
        
- **Linux Namespaces (Пространства имен)**
    
    - **Что делает:** **Изолирует и обманывает.**
        
    - Это "шоры" на глазах у процесса. Благодаря Namespaces процесс думает, что он один в системе (свой список процессов, своя сеть, свои пользователи), и не видит соседей.
        
    - _Главная суть:_ Изоляция (безопасность).
        
- **Union Filesystem (Объединенная файловая система)**
    
    - **Что делает:** **Наслаивает файлы.**
        
    - Позволяет собирать файловую систему как бутерброд из слоев. Нижний слой (например, Ubuntu) доступен только для чтения. Если ты меняешь файл, создается новый верхний слой с изменением.
        
    - _Главная суть:_ Экономия места (разные контейнеры используют одни и те же общие нижние слои).
        

---

### 2. Linux Containers (Контейнеры)

- **Что это:** Это результат объединения трех технологий выше.
    
- **Как работает:** Это процесс, который запущен в изолированной "коробке" (Namespaces), с ограниченными ресурсами (Cgroups) и со своей файловой системой (Union FS).
    
- **Важно:** В отличие от Виртуальной Машины, контейнеры используют **общее ядро** (Kernel) хоста, поэтому они легкие и быстрые.
    

---

### 3. Dockerfile (Инструкция)

В твоем тексте приведен пример. Это "рецепт", по которому Docker печет "пирог" (Образ). Вот что делают команды из примера:

|**Команда**|**Что она делает в примере**|
|---|---|
|**FROM**|Берет базу (Ubuntu Server), с которой всё начинается.|
|**ENV**|Устанавливает переменную среды (чтобы Linux не задавал лишних вопросов при установке).|
|**RUN**|Выполняет команду _во время сборки_ (обновляет apt, ставит пакеты, удаляет мусор).|
|**ADD**|Копирует папку `obm` с твоего компьютера внутрь образа.|
|**WORKDIR**|Переходит в папку `/home/obm/` (как команда `cd`).|
|**CMD**|Главная команда. Она запустится _только_ когда ты включишь сам контейнер (`./myscript.sh`).|

---

### 4. Image Registries (Реестры)

- **Что делает:** **Хранит и раздает.**
    
- Это как библиотека или App Store для Docker-образов (например, Docker Hub).
    
- Ты собираешь образ на своем ноутбуке -> отправляешь в Реестр -> сервер скачивает его из Реестра и запускает.
    

**Краткий итог (TL;DR):**

1. **Cgroups** не дают программе съесть весь компьютер.
    
2. **Namespaces** не дают программе видеть лишнее.
    
3. **UnionFS** экономит место на диске.
    
4. **Dockerfile** — это инструкция по сборке.
    
5. **Registry** — это склад готовых программ.
    

Хочешь, я объясню подробнее про какую-то конкретную строчку из твоего Dockerfile?