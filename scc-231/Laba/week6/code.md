![[Pasted image 20251117223935.png]]![[Pasted image 20251117223959.png]]![[Pasted image 20251117224012.png]]ะัะปะธัะฝะพ! ะะพะบะฐะถั **ะฟะพัะตะผั** ะบะพะณะดะฐ ะบะปะธะตะฝั ะพัะฟัะฐะฒะปัะตั ะดะฐะฝะฝัะต, `if` statement **ะะ** ะฒัะฟะพะปะฝัะตััั!

---

## ๐ฏ **ะะพัะพัะบะธะน ะัะฒะตั**

ะะพะณะดะฐ ะบะปะธะตะฝั ะพัะฟัะฐะฒะปัะตั ะดะฐะฝะฝัะต, `select()` ะฒะพะทะฒัะฐัะฐะตั **ัะพะปัะบะพ `client_socket`**, ะฐ **ะะ `server_socket`**!

python

```python
# ะะปะธะตะฝั ะพัะฟัะฐะฒะปัะตั "Hello"
rlist = select.select(rfds, [], [])
# rlist = [client_socket]  โ ะขะพะปัะบะพ client_socket!

if server_socket in rlist:  # False! ะะ ะฒัะฟะพะปะฝัะตััั!
```

---

## ๐ **ะะตัะฐะปัะฝะพะต ะะฑัััะฝะตะฝะธะต**

### **ะงัะพ ะขะฐะบะพะต `select()` - ะะฐะฟะพะผะธะฝะฐะฝะธะต**

`select()` ัะฟัะฐัะธะฒะฐะตั ั ะพะฟะตัะฐัะธะพะฝะฝะพะน ัะธััะตะผั:

> "ะกะบะฐะถะธ ะผะฝะต, ะฝะฐ **ะบะฐะบะธั** ะธะท ััะธั ัะพะบะตัะพะฒ ะตััั ะฐะบัะธะฒะฝะพััั?"

python

```python
rfds = [server_socket, client_socket]
rlist, _, _ = select.select(rfds, [], [])

# OS ะฟัะพะฒะตััะตั ะะะะะซะ ัะพะบะตั ะฒ rfds:
# - server_socket: ะตััั ะฝะพะฒะพะต ะฟะพะดะบะปััะตะฝะธะต? ะะ ะธะปะธ ะะะข?
# - client_socket: ะตััั ะดะฐะฝะฝัะต ะดะปั ััะตะฝะธั? ะะ ะธะปะธ ะะะข?

# ะะพะทะฒัะฐัะฐะตั ะขะะะฌะะ ัะต, ะณะดะต ะะ!
```

---

## ๐ **ะะฒะฐ ะะฐะทะฝัั ะกัะตะฝะฐัะธั**

### **ะกัะตะฝะฐัะธะน 1: ะะพะฒะพะต ะะพะดะบะปััะตะฝะธะต**

python

```python
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ะะะะะะข ะดะตะปะฐะตั:
client_socket.connect(('10.0.0.1', 12345))
# ะัะฟัะฐะฒะปัะตั SYN ะฟะฐะบะตั
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ะกะะะะะ:
rfds = [server_socket]  # ะะพะบะฐ ัะพะปัะบะพ server_socket

rlist, _, _ = select.select(rfds, [], [])
# OS ะฟัะพะฒะตััะตั:
# - server_socket: ะตััั ะฟะพะดะบะปััะตะฝะธะต ะฒ ะพัะตัะตะดะธ? ะะ! โ

# ะะพะทะฒัะฐัะฐะตั:
rlist = [server_socket]  โ ะกะพะดะตัะถะธั server_socket!

# ะัะพะฒะตัะบะฐ:
if server_socket in rlist:  # True! โ
    print("ะะพะฒะพะต ะฟะพะดะบะปััะตะฝะธะต!")
    client_socket = server_socket.accept()
```

**ะะพัะตะผั `server_socket` ะฒ `rlist`?**

- ะ ะพัะตัะตะดะธ `server_socket` ะตััั **ะฝะพะฒะพะต ะฟะพะดะบะปััะตะฝะธะต**
- OS ัะพะพะฑัะฐะตั: "ะะฐ `server_socket` ะตััั ะฐะบัะธะฒะฝะพััั!"
- `select()` ะฒะบะปััะฐะตั ะตะณะพ ะฒ `rlist`

---

### **ะกัะตะฝะฐัะธะน 2: ะะปะธะตะฝั ะัะฟัะฐะฒะปัะตั ะะฐะฝะฝัะต**

python

```python
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
# ะะะะะะข ะดะตะปะฐะตั:
client_socket.sendall(b'Hello')
# ะัะฟัะฐะฒะปัะตั ะดะฐะฝะฝัะต
# โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

# ะกะะะะะ:
rfds = [server_socket, client_socket]  # ะะฒะฐ ัะพะบะตัะฐ

rlist, _, _ = select.select(rfds, [], [])
# OS ะฟัะพะฒะตััะตั:
# - server_socket: ะตััั ะฟะพะดะบะปััะตะฝะธะต ะฒ ะพัะตัะตะดะธ? ะะะข! โ
# - client_socket: ะตััั ะดะฐะฝะฝัะต ะดะปั ััะตะฝะธั? ะะ! โ

# ะะพะทะฒัะฐัะฐะตั:
rlist = [client_socket]  โ ะะะข server_socket!

# ะัะพะฒะตัะบะฐ:
if server_socket in rlist:  # False! โ
    print("ะญัะพั ะบะพะด ะะ ะฒัะฟะพะปะฝัะตััั!")

# ะะผะตััะพ ััะพะณะพ:
for sock in rlist:  # [client_socket]
    print("ะะฑัะฐะฑะฐััะฒะฐะตะผ ะดะฐะฝะฝัะต ะพั ะบะปะธะตะฝัะฐ!")
    data = sock.recv(1024)
```

![[Pasted image 20251117234922.png]]